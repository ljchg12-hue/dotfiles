# 작업 시작 전 체크리스트
**ABSOLUTE RULES #5: 작업 허락 프로토콜**

---

## ⚡ 빠른 체크 (20초)

### 1. 질문 요약 (5초)
```
📋 작업 요약: [사용자 요청을 1-2줄로 요약]
```

- [ ] 핵심 요청 파악 완료
- [ ] 명확한 목표 설정 완료

### 2. 작업범위 확인 (10초)
```
📂 작업 범위:
- 파일: ___개 (생성/수정/삭제)
- 도구: ___ (Read, Edit, Write, Bash, ...)
- AI: ___개 (Cloud CLI 5 + Ollama Cloud ___ + Local ___)
- MCP: ___ (codebuff, git, ...)
- Agent: ___ (code-reviewer, ...)
- 예상 소요: ___분
- 위험도: 낮음 / 중간 / 높음
```

- [ ] 파일 개수 확인 완료
- [ ] 사용 도구 목록 작성 완료
- [ ] 멀티소스 계획 수립 (AI/MCP/Agent)
- [ ] 예상 소요시간 산정 완료
- [ ] 위험도 평가 완료

### 3. 모드 선택 제안 (5초)
```
🎛️  모드 선택:
- [ ] 오토: 전체 자동 진행 (사용자 개입 최소)
- [ ] 부분수락: 단계별 확인 후 진행 (중간 확인)
- [ ] 수동: 각 작업마다 확인 (최대 제어)

권장: [오토/부분수락/수동] - 이유: [...]
```

- [ ] 모드별 차이 이해 완료
- [ ] 권장 모드 제시 완료
- [ ] 사용자 선택 대기

### 4. 허락 대기
```
⏳ 사용자 허락 대기 중...
```

- [ ] 모든 정보 제공 완료
- [ ] 사용자 응답 확인 완료
- [ ] 승인 시 작업 시작

---

## 📋 상세 체크리스트

### Phase 1: 사전 분석

#### 요청 분석
- [ ] 사용자 메시지 전체 읽기
- [ ] 핵심 동사 파악 (만들기/수정/삭제/검증/...)
- [ ] 대상 객체 파악 (파일/코드/문서/...)
- [ ] 제약조건 확인 (기술스택/시간/품질/...)

#### 범위 산정
- [ ] 영향 받는 파일 목록 작성
- [ ] 필요한 도구 목록 작성
- [ ] 멀티소스 계획 (ABSOLUTE RULES #4)
  - [ ] AI: 최소 4개 (Cloud CLI 전부)
  - [ ] MCP: 최소 1개 (관련 도구)
  - [ ] Agent: 최소 1개 (전문가)
- [ ] 병렬처리 계획 (ABSOLUTE RULES #3)
  - [ ] 묶음 1: ___개 (3-7개 범위)
  - [ ] 묶음 2: ___개 (3-7개 범위)
  - [ ] 묶음 3: ___개 (3-7개 범위)

#### 위험도 평가
- [ ] **낮음**: 읽기 전용, 영향 최소
- [ ] **중간**: 파일 수정, 복구 가능
- [ ] **높음**: 삭제/이동, 시스템 변경, 복구 어려움

### Phase 2: 모드 결정

#### 오토 모드 (추천: 낮음~중간 위험)
**장점**:
- 빠른 진행
- 사용자 개입 최소화
- 효율적 작업 흐름

**단점**:
- 중간 확인 없음
- 방향 수정 어려움

**적합한 경우**:
- 명확한 요청
- 낮은 위험도
- 신뢰할 수 있는 작업

#### 부분수락 모드 (추천: 중간~높음 위험)
**장점**:
- 단계별 확인 가능
- 방향 수정 용이
- 중간 피드백 반영

**단점**:
- 다소 느린 진행
- 여러 번 응답 필요

**적합한 경우**:
- 복잡한 요청
- 중간 위험도
- 불확실한 요소 존재

#### 수동 모드 (추천: 높음 위험)
**장점**:
- 완전한 제어
- 각 단계 검증
- 최소 위험

**단점**:
- 가장 느린 진행
- 많은 사용자 개입

**적합한 경우**:
- 매우 복잡한 요청
- 높은 위험도
- 중요한 작업

### Phase 3: 템플릿 출력

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔴 작업 허락 프로토콜 (ABSOLUTE RULES #5)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 작업 요약:
[1-2줄 요약]

📂 작업 범위:
- 파일: X개 (생성 Y개, 수정 Z개)
- 도구: Read (A회), Edit (B회), Write (C회), ...
- AI: Cloud CLI 5개 + Ollama Cloud 4개 + Local 2개 = 11개
- MCP: codebuff, git (2개)
- Agent: code-reviewer (1개)
- 예상 소요: X분
- 위험도: 중간

🔢 병렬처리 계획:
- 묶음 1: [Tool1, Tool2, Tool3, Tool4, Tool5] (5개)
- 묶음 2: [AI 8개 병렬]
- 묶음 3: [Tool6, Tool7, Tool8] (3개)

🎛️  모드 선택:
- 오토: 전체 자동 진행 ✅ 권장
- 부분수락: 단계별 확인
- 수동: 각 작업마다 확인

⏳ 어떤 모드로 진행할까요?

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## ❌ 예외 사항

**허락 불필요한 작업** (ABSOLUTE RULES #5):
- `Read` - 파일 읽기
- `Grep` - 내용 검색
- `Glob` - 파일 패턴 검색
- `Bash:ls` - 디렉토리 목록
- `Bash:cat` - 파일 출력
- `Bash:pwd` - 현재 경로
- `Bash:echo` - 텍스트 출력
- `Bash:which` - 명령어 위치

**즉시 진행 가능**:
```
[사용자]: "파일 목록 보여줘"
[Claude]: [바로 ls 실행] ✅
```

**허락 필요**:
```
[사용자]: "파일 수정해줘"
[Claude]: [체크리스트 진행] → [허락 대기] → [작업 시작] ✅
```

---

## 🔄 작업 중 범위 초과 시

```
⚠️  범위 초과 감지

원래 범위: 파일 3개 수정
현재 진행: 파일 5개 필요 (추가 2개)

📋 추가 작업:
- 파일 4: config.json (설정 업데이트)
- 파일 5: README.md (문서 업데이트)

🎛️  재허락 필요:
- 추가 작업 진행할까요? (y/N)
```

**ABSOLUTE RULES #5**: 범위 초과 시 재허락 필수

---

## ✅ 작업 완료 시 레포팅

**ABSOLUTE RULES #7**: 레포팅 형식 준수

```
✅ 작업 완료

📋 작업 내용:
[요약]

🔧 사용한 도구:
- Read (X회), Edit (Y회), Write (Z회), ...
- 총 N회

🤖 사용한 AI:
- Cloud CLI: Claude, Gemini, Codex, Copilot, GLM
- Ollama Cloud: mistral-large-3:675b, deepseek-v3.1:671b, ...
- Local: codellama:70b, ...
- 총 M개

🔌 사용한 MCP:
- codebuff, git, ...
- 총 K개

👥 사용한 Agent:
- code-reviewer, ...
- 총 L개

🛠️  사용한 기술:
- AST 파싱, 정규식, ...

📊 통계:
- 병렬처리: J묶음 (A+B+C개)
- 소요시간: 약 X분
- 파일 수정: Y개
```

---

**버전**: 1.0
**업데이트**: 2025-12-20
**준수 규칙**: ABSOLUTE RULES #5, #7
